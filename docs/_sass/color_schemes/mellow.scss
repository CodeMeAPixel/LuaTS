// Purple primary colors (matching Mellow branding)
$purple-000: #f8f6ff;
$purple-100: #e9e4ff;
$purple-200: #d4c8ff;
$purple-300: #b8a7ff;
$purple-400: #9b85ff;
$purple-500: #7c63f0; // Main Mellow purple
$purple-600: #6347e6;
$purple-700: #4a2fd9;
$purple-800: #3219cc;
$purple-900: #1d0dbf;

// Teal accent colors for contrast
$teal-300: #5eead4;
$teal-500: #14b8a6;
$teal-700: #0f766e;

// Gray neutrals
$gray-100: #f3f4f6;
$gray-200: #e5e7eb;
$gray-300: #d1d5db;
$gray-700: #374151;
$gray-800: #1f2937;
$gray-900: #111827;

// Assign colors to theme variables
$blue-000: $purple-000;
$blue-100: $purple-100;
$blue-200: $purple-200;
$blue-300: $purple-300;

$link-color: $purple-700; // Darker for better contrast
$btn-primary-color: $purple-600;
$base-button-color: $purple-100;

$border-color: $purple-200;
$table-background-color: $purple-000;
$code-background-color: $purple-000;
$search-background-color: $purple-000;

// Navigation colors
$nav-child-link-color: $purple-600;
$search-result-preview-color: $purple-500;

// Custom properties for mental health theme
:root {
    --mellow-primary: #{$purple-600};
    --mellow-secondary: #{$purple-300};
    --mellow-accent: #{$teal-500};
    --mellow-accent-light: #{$teal-300};
    --mellow-accent-dark: #{$teal-700};
    --mellow-text: #{$gray-800};
    --mellow-text-light: #{$gray-700};
    --mellow-bg: #{$gray-100};
    --mellow-bg-card: #ffffff;
    --mellow-border: #{$purple-200};
    --mellow-heading: #{$purple-800};
    --mellow-code-bg: #{rgba($purple-100, 0.5)};
    --mellow-inline-code-bg: #{rgba($purple-200, 0.3)};
    
    // Code syntax highlighting colors
    --code-keyword: #{$purple-700};
    --code-function: #{$teal-700};
    --code-string: #16a34a;
    --code-number: #f59e0b;
    --code-comment: #64748b;
    --code-punctuation: #{$gray-700};
    
    // Additional UI component colors
    --mellow-sidebar-bg: #{$gray-100};
    --mellow-sidebar-active: #{rgba($purple-200, 0.5)};
    --mellow-sidebar-border: #{$purple-100};
    --mellow-search-bg: #{rgba($purple-100, 0.3)};
    --mellow-search-result-bg: #{white};
    --mellow-nav-link: #{$purple-700};
    --mellow-nav-link-active: #{$purple-800};
}

// Dark mode overrides
[data-theme='dark'] {
    --mellow-primary: #{$purple-300}; // Lighter for better visibility in dark mode
    --mellow-secondary: #{$purple-700};
    --mellow-accent: #{$teal-300};
    --mellow-accent-light: #{$teal-500};
    --mellow-accent-dark: #{$teal-700};
    --mellow-text: #{$gray-200};
    --mellow-text-light: #{$gray-300};
    --mellow-bg: #{$gray-900};
    --mellow-bg-card: #{$gray-800};
    --mellow-border: rgba(255, 255, 255, 0.1);
    --mellow-heading: #{$purple-200};
    --mellow-code-bg: #{rgba(0, 0, 0, 0.3)};
    --mellow-inline-code-bg: #{rgba(0, 0, 0, 0.2)};
    
    // Code syntax highlighting for dark mode
    --code-keyword: #{$purple-300};
    --code-function: #{$teal-300};
    --code-string: #86efac;
    --code-number: #fbbf24;
    --code-comment: #94a3b8;
    --code-punctuation: #{$gray-300};

    // Additional UI component colors for dark mode
    --mellow-sidebar-bg: #{$gray-800};
    --mellow-sidebar-active: #{rgba($purple-800, 0.3)};
    --mellow-sidebar-border: #{$gray-700};
    --mellow-search-bg: #{rgba($gray-800, 0.6)};
    --mellow-search-result-bg: #{$gray-800};
    --mellow-nav-link: #{$purple-300};
    --mellow-nav-link-active: #{$purple-200};

    background-color: var(--mellow-bg) !important;
    color: var(--mellow-text) !important;
    
    // Dark mode code blocks
    code {
        background-color: var(--mellow-inline-code-bg) !important;
    }
    
    pre.highlight, div.highlighter-rouge {
        background-color: var(--mellow-code-bg) !important;
        border: 1px solid var(--mellow-border);
    }
    
    // Improve heading contrast in dark mode
    h1, h2, h3, h4, h5, h6 {
        color: var(--mellow-heading) !important;
    }
    
    // Dark mode sidebar
    .side-bar {
        background-color: var(--mellow-sidebar-bg) !important;
        border-right: 1px solid var(--mellow-sidebar-border) !important;
    }
    
    .search {
        background-color: var(--mellow-bg) !important;
    }
    
    .search-input {
        background-color: var(--mellow-search-bg) !important;
        color: var(--mellow-text) !important;
    }
    
    .search-results {
        background-color: var(--mellow-search-result-bg) !important;
    }
    
    .nav-list .nav-list-item .nav-list-link {
        color: var(--mellow-text) !important;
    }
    
    .nav-list .nav-list-item .nav-list-link:hover,
    .nav-list .nav-list-item .nav-list-link.active {
        background-color: var(--mellow-sidebar-active) !important;
        color: var(--mellow-nav-link-active) !important;
    }
}

// Light mode improvements
body:not([data-theme='dark']) {
    h1, h2, h3, h4, h5, h6 {
        color: var(--mellow-heading);
    }
    
    code {
        background-color: var(--mellow-inline-code-bg);
    }
    
    pre.highlight, div.highlighter-rouge {
        background-color: var(--mellow-code-bg);
        border: 1px solid var(--mellow-border);
    }
    
    // Light mode sidebar
    .side-bar {
        background-color: var(--mellow-sidebar-bg);
        border-right: 1px solid var(--mellow-sidebar-border);
    }
    
    .search {
        background-color: var(--mellow-bg);
    }
    
    .search-input {
        background-color: var(--mellow-search-bg);
        color: var(--mellow-text);
    }
    
    .search-results {
        background-color: var(--mellow-search-result-bg);
    }
    
    .nav-list .nav-list-item .nav-list-link {
        color: var(--mellow-text);
    }
    
    .nav-list .nav-list-item .nav-list-link:hover,
    .nav-list .nav-list-item .nav-list-link.active {
        background-color: var(--mellow-sidebar-active);
        color: var(--mellow-nav-link-active);
    }
}

// Code syntax highlighting
.highlight {
    .k, .kd, .kn, .kp, .kr, .kt { color: var(--code-keyword); }  // keywords
    .nc, .nf, .nn { color: var(--code-function); }               // functions, classes
    .s, .s1, .s2, .sr, .se { color: var(--code-string); }        // strings
    .mi, .mf, .mh, .mo { color: var(--code-number); }            // numbers
    .c, .c1, .cm, .cp { color: var(--code-comment); }            // comments
    .p, .o { color: var(--code-punctuation); }                   // punctuation
}

// Focus styles for accessibility
a:focus, button:focus, [tabindex="0"]:focus {
    outline: 2px solid var(--mellow-primary);
    outline-offset: 2px;
}
