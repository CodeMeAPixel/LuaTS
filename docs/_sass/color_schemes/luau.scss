// Modern Luau-inspired color palette with better contrast and accessibility
$luau-primary-050: #f0f9ff;
$luau-primary-100: #e0f2fe;
$luau-primary-200: #bae6fd;
$luau-primary-300: #7dd3fc;
$luau-primary-400: #38bdf8;
$luau-primary-500: #0ea5e9; // Main Luau blue - more vibrant
$luau-primary-600: #0284c7;
$luau-primary-700: #0369a1;
$luau-primary-800: #075985;
$luau-primary-900: #0c4a6e;

// Modern orange accent for better harmony
$accent-050: #fff7ed;
$accent-100: #ffedd5;
$accent-200: #fed7aa;
$accent-300: #fdba74;
$accent-400: #fb923c;
$accent-500: #f97316; // Warmer orange
$accent-600: #ea580c;
$accent-700: #c2410c;
$accent-800: #9a3412;
$accent-900: #7c2d12;

// Enhanced neutrals with better contrast
$neutral-050: #fafafa;
$neutral-100: #f4f4f5;
$neutral-200: #e4e4e7;
$neutral-300: #d4d4d8;
$neutral-400: #a1a1aa;
$neutral-500: #71717a;
$neutral-600: #52525b;
$neutral-700: #3f3f46;
$neutral-800: #27272a;
$neutral-900: #18181b;

// Success/error colors for better UX
$success-500: #10b981;
$success-600: #059669;
$error-500: #ef4444;
$error-600: #dc2626;
$warning-500: #f59e0b;
$warning-600: #d97706;

// Assign colors to theme variables with better contrast ratios
$blue-000: $luau-primary-050;
$blue-100: $luau-primary-100;
$blue-200: $luau-primary-200;
$blue-300: $luau-primary-300;

$link-color: $luau-primary-700;
$btn-primary-color: $luau-primary-600;
$base-button-color: $luau-primary-100;

$border-color: $luau-primary-200;
$table-background-color: $luau-primary-050;
$code-background-color: $neutral-050;
$search-background-color: $luau-primary-050;

// Navigation colors with better accessibility
$nav-child-link-color: $luau-primary-700;
$search-result-preview-color: $luau-primary-600;

// Enhanced CSS custom properties for modern styling
:root {
    // Primary brand colors
    --luau-primary-50: #{$luau-primary-050};
    --luau-primary-100: #{$luau-primary-100};
    --luau-primary-500: #{$luau-primary-500};
    --luau-primary-600: #{$luau-primary-600};
    --luau-primary-700: #{$luau-primary-700};
    --luau-primary-800: #{$luau-primary-800};
    
    // Accent colors
    --luau-accent-400: #{$accent-400};
    --luau-accent-500: #{$accent-500};
    --luau-accent-600: #{$accent-600};
    
    // Semantic colors
    --luau-success: #{$success-500};
    --luau-error: #{$error-500};
    --luau-warning: #{$warning-500};
    
    // Text colors with WCAG AA compliance
    --luau-text-primary: #{$neutral-900};
    --luau-text-secondary: #{$neutral-700};
    --luau-text-tertiary: #{$neutral-600};
    --luau-text-inverse: #{$neutral-050};
    
    // Background colors
    --luau-bg-primary: #{$neutral-050};
    --luau-bg-secondary: #{$neutral-100};
    --luau-bg-elevated: #ffffff;
    --luau-bg-overlay: #{rgba($neutral-900, 0.8)};
    
    // Border colors
    --luau-border-light: #{$neutral-200};
    --luau-border-medium: #{$neutral-300};
    --luau-border-strong: #{$neutral-400};
    
    // Interactive colors
    --luau-interactive-primary: #{$luau-primary-600};
    --luau-interactive-primary-hover: #{$luau-primary-700};
    --luau-interactive-secondary: #{$neutral-200};
    --luau-interactive-secondary-hover: #{$neutral-300};
    
    // Code highlighting with modern colors
    --code-bg: #{$neutral-050};
    --code-bg-inline: #{rgba($luau-primary-100, 0.4)};
    --code-border: #{$neutral-200};
    --code-keyword: #{$luau-primary-700};
    --code-function: #{$accent-600};
    --code-string: #{$success-600};
    --code-number: #{$accent-500};
    --code-comment: #{$neutral-500};
    --code-punctuation: #{$neutral-600};
    --code-variable: #{$neutral-800};
    
    // UI component colors
    --luau-sidebar-bg: #{$neutral-050};
    --luau-sidebar-border: #{$neutral-200};
    --luau-sidebar-item-hover: #{rgba($luau-primary-100, 0.6)};
    --luau-sidebar-item-active: #{rgba($luau-primary-200, 0.8)};
    
    --luau-nav-link: #{$luau-primary-700};
    --luau-nav-link-hover: #{$luau-primary-800};
    --luau-nav-link-active: #{$luau-primary-800};
    
    --luau-search-bg: #{rgba($luau-primary-050, 0.8)};
    --luau-search-border: #{$luau-primary-200};
    --luau-search-focus: #{$luau-primary-500};
    
    // Shadows for depth
    --luau-shadow-sm: 0 1px 2px 0 #{rgba($neutral-900, 0.05)};
    --luau-shadow-md: 0 4px 6px -1px #{rgba($neutral-900, 0.1)}, 0 2px 4px -1px #{rgba($neutral-900, 0.06)};
    --luau-shadow-lg: 0 10px 15px -3px #{rgba($neutral-900, 0.1)}, 0 4px 6px -2px #{rgba($neutral-900, 0.05)};
    
    // Border radius for modern feel
    --luau-radius-sm: 0.25rem;
    --luau-radius-md: 0.375rem;
    --luau-radius-lg: 0.5rem;
    --luau-radius-xl: 0.75rem;
}

// Enhanced dark mode with better contrast and modern colors
[data-theme='dark'] {
    // Primary colors adjusted for dark mode
    --luau-primary-50: #{$luau-primary-900};
    --luau-primary-100: #{$luau-primary-800};
    --luau-primary-500: #{$luau-primary-400};
    --luau-primary-600: #{$luau-primary-300};
    --luau-primary-700: #{$luau-primary-200};
    --luau-primary-800: #{$luau-primary-100};
    
    // Accent colors for dark mode
    --luau-accent-400: #{$accent-300};
    --luau-accent-500: #{$accent-400};
    --luau-accent-600: #{$accent-300};
    
    // Dark mode text colors
    --luau-text-primary: #{$neutral-100};
    --luau-text-secondary: #{$neutral-300};
    --luau-text-tertiary: #{$neutral-400};
    --luau-text-inverse: #{$neutral-900};
    
    // Dark mode backgrounds
    --luau-bg-primary: #{$neutral-900};
    --luau-bg-secondary: #{$neutral-800};
    --luau-bg-elevated: #{$neutral-800};
    --luau-bg-overlay: #{rgba($neutral-900, 0.9)};
    
    // Dark mode borders
    --luau-border-light: #{$neutral-700};
    --luau-border-medium: #{$neutral-600};
    --luau-border-strong: #{$neutral-500};
    
    // Dark mode interactive colors
    --luau-interactive-primary: #{$luau-primary-500};
    --luau-interactive-primary-hover: #{$luau-primary-400};
    --luau-interactive-secondary: #{$neutral-700};
    --luau-interactive-secondary-hover: #{$neutral-600};
    
    // Dark mode code colors
    --code-bg: #{rgba($neutral-800, 0.6)};
    --code-bg-inline: #{rgba($neutral-700, 0.4)};
    --code-border: #{$neutral-700};
    --code-keyword: #{$luau-primary-300};
    --code-function: #{$accent-300};
    --code-string: #{$success-500};
    --code-number: #{$accent-400};
    --code-comment: #{$neutral-400};
    --code-punctuation: #{$neutral-300};
    --code-variable: #{$neutral-200};
    
    // Dark mode UI components
    --luau-sidebar-bg: #{$neutral-800};
    --luau-sidebar-border: #{$neutral-700};
    --luau-sidebar-item-hover: #{rgba($luau-primary-800, 0.3)};
    --luau-sidebar-item-active: #{rgba($luau-primary-700, 0.4)};
    
    --luau-nav-link: #{$luau-primary-300};
    --luau-nav-link-hover: #{$luau-primary-200};
    --luau-nav-link-active: #{$luau-primary-100};
    
    --luau-search-bg: #{rgba($neutral-800, 0.9)};
    --luau-search-border: #{$neutral-600};
    --luau-search-focus: #{$luau-primary-400};

    background-color: var(--luau-bg-primary) !important;
    color: var(--luau-text-primary) !important;
    
    // Enhanced dark mode styles
    code {
        background-color: var(--code-bg-inline) !important;
        color: var(--luau-text-primary) !important;
        border-radius: var(--luau-radius-sm);
    }
    
    pre.highlight, div.highlighter-rouge {
        background-color: var(--code-bg) !important;
        border: 1px solid var(--code-border);
        border-radius: var(--luau-radius-md);
        box-shadow: var(--luau-shadow-sm);
    }
    
    h1, h2, h3, h4, h5, h6 {
        color: var(--luau-text-primary) !important;
        font-weight: 600;
    }
    
    .side-bar {
        background-color: var(--luau-sidebar-bg) !important;
        border-right: 1px solid var(--luau-sidebar-border) !important;
        box-shadow: var(--luau-shadow-md);
    }
    
    .search-input {
        background-color: var(--luau-search-bg) !important;
        color: var(--luau-text-primary) !important;
        border: 1px solid var(--luau-search-border) !important;
        border-radius: var(--luau-radius-md);
        
        &:focus {
            border-color: var(--luau-search-focus) !important;
            box-shadow: 0 0 0 3px #{rgba($luau-primary-400, 0.1)} !important;
        }
    }
    
    .nav-list .nav-list-item .nav-list-link {
        color: var(--luau-text-secondary) !important;
        border-radius: var(--luau-radius-sm);
        transition: all 0.2s ease;
        
        &:hover {
            background-color: var(--luau-sidebar-item-hover) !important;
            color: var(--luau-nav-link-hover) !important;
        }
        
        &.active {
            background-color: var(--luau-sidebar-item-active) !important;
            color: var(--luau-nav-link-active) !important;
            font-weight: 500;
        }
    }
}

// Enhanced light mode with modern styling
body:not([data-theme='dark']) {
    h1, h2, h3, h4, h5, h6 {
        color: var(--luau-text-primary);
        font-weight: 600;
    }
    
    code {
        background-color: var(--code-bg-inline);
        color: var(--luau-text-primary);
        border-radius: var(--luau-radius-sm);
        padding: 0.125rem 0.25rem;
    }
    
    pre.highlight, div.highlighter-rouge {
        background-color: var(--code-bg);
        border: 1px solid var(--code-border);
        border-radius: var(--luau-radius-md);
        box-shadow: var(--luau-shadow-sm);
    }
    
    .side-bar {
        background-color: var(--luau-sidebar-bg);
        border-right: 1px solid var(--luau-sidebar-border);
        box-shadow: var(--luau-shadow-md);
    }
    
    .search-input {
        background-color: var(--luau-search-bg);
        color: var(--luau-text-primary);
        border: 1px solid var(--luau-search-border);
        border-radius: var(--luau-radius-md);
        transition: all 0.2s ease;
        
        &:focus {
            border-color: var(--luau-search-focus);
            box-shadow: 0 0 0 3px #{rgba($luau-primary-500, 0.1)};
        }
    }
    
    .nav-list .nav-list-item .nav-list-link {
        color: var(--luau-text-secondary);
        border-radius: var(--luau-radius-sm);
        transition: all 0.2s ease;
        
        &:hover {
            background-color: var(--luau-sidebar-item-hover);
            color: var(--luau-nav-link-hover);
        }
        
        &.active {
            background-color: var(--luau-sidebar-item-active);
            color: var(--luau-nav-link-active);
            font-weight: 500;
        }
    }
}

// Enhanced syntax highlighting with modern colors
.highlight {
    .k, .kd, .kn, .kp, .kr, .kt { color: var(--code-keyword); font-weight: 500; }
    .nc, .nf, .nn { color: var(--code-function); font-weight: 500; }
    .s, .s1, .s2, .sr, .se { color: var(--code-string); }
    .mi, .mf, .mh, .mo { color: var(--code-number); }
    .c, .c1, .cm, .cp { color: var(--code-comment); font-style: italic; }
    .p, .o { color: var(--code-punctuation); }
    .nv, .nb { color: var(--code-variable); }
    
    // Additional syntax elements
    .na { color: var(--luau-accent-600); } // attributes
    .nd { color: var(--luau-primary-600); } // decorators
    .err { 
        color: var(--luau-error); 
        background-color: #{rgba($error-500, 0.1)};
        border-radius: var(--luau-radius-sm);
    }
}

// Modern button styles
.btn {
    border-radius: var(--luau-radius-md);
    font-weight: 500;
    transition: all 0.2s ease;
    box-shadow: var(--luau-shadow-sm);
    
    &:hover {
        box-shadow: var(--luau-shadow-md);
        transform: translateY(-1px);
    }
    
    &.btn-primary {
        background-color: var(--luau-interactive-primary);
        
        &:hover {
            background-color: var(--luau-interactive-primary-hover);
        }
    }
}

// Enhanced focus styles for better accessibility
a:focus, 
button:focus, 
[tabindex="0"]:focus,
.search-input:focus {
    outline: 2px solid var(--luau-primary-500);
    outline-offset: 2px;
    border-radius: var(--luau-radius-sm);
}

// Improved table styles
table {
    border-radius: var(--luau-radius-md);
    overflow: hidden;
    box-shadow: var(--luau-shadow-sm);
    
    th {
        background-color: var(--luau-primary-50);
        color: var(--luau-text-primary);
        font-weight: 600;
    }
    
    tr:nth-child(even) {
        background-color: var(--luau-bg-secondary);
    }
    
    td, th {
        border-color: var(--luau-border-light);
    }
}

// Callout/alert styles
.callout {
    border-radius: var(--luau-radius-md);
    box-shadow: var(--luau-shadow-sm);
    
    &.callout-info {
        border-left: 4px solid var(--luau-primary-500);
        background-color: #{rgba($luau-primary-050, 0.5)};
    }
    
    &.callout-success {
        border-left: 4px solid var(--luau-success);
        background-color: #{rgba($success-500, 0.05)};
    }
    
    &.callout-warning {
        border-left: 4px solid var(--luau-warning);
        background-color: #{rgba($warning-500, 0.05)};
    }
    
    &.callout-error {
        border-left: 4px solid var(--luau-error);
        background-color: #{rgba($error-500, 0.05)};
    }
}
