<!-- Mellow custom head elements -->
<link rel="icon" type="image/x-icon" href="{{ '/assets/favicon.ico' | relative_url }}" />
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/apple-touch-icon.png' | relative_url }}" />

<meta name="keywords" content="lua, luau, parser, formatter, typescript, ast, syntax-tree, code-analysis, static-analysis, transpiler, roblox, code-generation, type-interfaces" />
<meta name="author" content="CodeMeAPixel" />

<!-- Open Graph -->
<meta property="og:title" content="LuaTS - TypeScript Library for Lua and Luau" />
<meta property="og:description" content="A comprehensive TypeScript library for parsing, formatting, analyzing, and transforming Lua and Luau code with robust type interfaces and AST manipulation" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://luats.lol" />
<meta property="og:image" content="/assets/banner.png" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="LuaTS - TypeScript Library for Lua and Luau" />
<meta name="twitter:description" content="A comprehensive TypeScript library for parsing, formatting, analyzing, and transforming Lua and Luau code with robust type interfaces and AST manipulation" />
<meta name="twitter:image" content="/assets/banner.png" />
<meta name="twitter:site" content="@CodeMeAPixel" />
<meta name="twitter:creator" content="@CodeMeAPixel" />

<!-- Additional SEO -->
<meta name="application-name" content="LuaTS">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="theme-color" content="#ffffff">

<!-- Schema.org markup for Google -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareSourceCode",
  "name": "LuaTS",
  "description": "A comprehensive TypeScript library for parsing, formatting, analyzing, and transforming Lua and Luau code with robust type interfaces and AST manipulation",
  "codeRepository": "https://github.com/CodeMeAPixel/luats",
  "programmingLanguage": ["TypeScript", "Lua", "Luau"],
  "author": {
    "@type": "Person",
    "name": "CodeMeAPixel"
  },
  "license": "https://github.com/CodeMeAPixel/luats/blob/main/LICENSE"
}
</script>

<!-- Theme initialization script - run before page loads -->
<script>
  (function() {
    // Check for saved theme preference (light/dark)
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    // Apply dark/light theme based on saved preference or system default
    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
      document.documentElement.setAttribute('data-theme', 'dark');
    } else if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
    }
    
    // Check for saved color scheme preference
    const savedColorScheme = localStorage.getItem('colorScheme');
    if (savedColorScheme) {
      // We'll apply the color scheme by adding a query parameter to the CSS URL
      // The theme's CSS will be loaded by Jekyll with the appropriate scheme
      const linkTags = document.getElementsByTagName('link');
      for (let i = 0; i < linkTags.length; i++) {
        const link = linkTags[i];
        if (link.rel === 'stylesheet' && link.href.includes('just-the-docs')) {
          // If there's already a theme parameter, replace it; otherwise, add it
          const newHref = link.href.includes('?') 
            ? link.href.replace(/theme=[^&]*/, `theme=${savedColorScheme}`)
            : `${link.href}?theme=${savedColorScheme}`;
          link.href = newHref;
        }
      }
    }
  })();
</script>

<!-- Custom CSS for enhanced styling -->
<style>
    .site-header {
        background-color: var(--dc-bg-header);
        color: white;
    }

    .site-title {
        display: flex;
        align-items: center;
        min-height: 80px; /* Set a minimum height */
    }

    .site-logo {
        min-width: 120px; /* Set minimum width */
        min-height: 120px; /* Set minimum height */
    }

    .site-title {
        color: white !important;
        font-weight: 600;
    }

    .main-content h1 {
        color: var(--dc-primary);
        border-bottom: 2px solid var(--dc-accent);
        padding-bottom: 0.5rem;
    }

    .main-content h2 {
        color: var(--dc-primary);
    }

    .highlight {
        border-left: 4px solid var(--dc-primary);
        padding-left: 1rem;
    }

    .btn-primary {
        background: var(--dc-primary) !important;
        border-color: var(--dc-primary) !important;
    }

    .btn-primary:hover {
        background: var(--dc-secondary) !important;
        border-color: var(--dc-secondary) !important;
    }

     .theme-toggle {
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 50%;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        transition: background-color 0.2s;
    }
    
    .theme-toggle:hover {
        background-color: rgba(255, 255, 255, 0.2);
    }
    
    .theme-toggle svg {
        width: 20px;
        height: 20px;
        fill: currentColor;
    }
    
    /* Color scheme selector styles */
    .color-scheme-selector {
        position: relative;
        margin-right: 8px;
    }
    
    .color-scheme-toggle {
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 4px;
        padding: 6px 12px;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    
    .color-scheme-toggle:hover {
        background: rgba(255, 255, 255, 0.3);
    }
    
    .color-scheme-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        margin-top: 4px;
        background: white;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: none;
        z-index: 100;
        min-width: 160px;
        overflow: hidden;
    }
    
    [data-theme="dark"] .color-scheme-dropdown {
        background: var(--dc-bg-card);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    .color-scheme-option {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        width: 100%;
        border: none;
        text-align: left;
        background: transparent;
        cursor: pointer;
        color: var(--dc-text);
    }
    
    .color-scheme-option:hover {
        background-color: rgba(0, 0, 0, 0.05);
    }
    
    [data-theme="dark"] .color-scheme-option:hover {
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .color-scheme-dot {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
    }
    
    /* Sidebar styling */
    .side-bar {
        background-color: var(--dc-bg-card);
        border-right: 1px solid var(--dc-border);
    }
    
    .nav-list .nav-list-item .nav-list-link {
        color: var(--dc-text);
    }
    
    .nav-list .nav-list-item .nav-list-link:hover,
    .nav-list .nav-list-item .nav-list-link.active {
        background-color: var(--dc-bg);
        color: var(--dc-primary);
    }
    
    .nav-list .nav-list-item .nav-list-expander {
        color: var(--dc-text-light);
    }
    
    .search-input {
        background-color: var(--dc-bg);
        color: var(--dc-text);
        border: 1px solid var(--dc-border);
    }
</style>